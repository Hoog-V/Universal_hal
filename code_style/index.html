
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../contributing/">
      
      
      
      <link rel="icon" href="../assets/Universal_hal_logo_top_bar.svg">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.21">
    
    
      
        <title>Code style - Universal_hal</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#code-style" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Universal_hal" class="md-header__button md-logo" aria-label="Universal_hal" data-md-component="logo">
      
  <img src="../assets/Universal_hal_logo_top_bar.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Universal_hal
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Code style
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Universal_hal" class="md-nav__button md-logo" aria-label="Universal_hal" data-md-component="logo">
      
  <img src="../assets/Universal_hal_logo_top_bar.svg" alt="logo">

    </a>
    Universal_hal
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    GPIO
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            GPIO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/GPIO/gpio_compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compatibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/GPIO/gpio_api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3" >
        
          
          <label class="md-nav__link" for="__nav_2_1_3" id="__nav_2_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API platform
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_3">
            <span class="md-nav__icon md-icon"></span>
            API platform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1_3_1" id="__nav_2_1_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SAMD
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_3_1">
            <span class="md-nav__icon md-icon"></span>
            SAMD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/GPIO/platform/atmelsam/about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    I2C Host
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            I2C Host
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/I2C_host/i2c_compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compatibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/I2C_host/i2c_host_api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_2_3" id="__nav_2_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API platform
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_3">
            <span class="md-nav__icon md-icon"></span>
            API platform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3_1" >
        
          
          <label class="md-nav__link" for="__nav_2_2_3_1" id="__nav_2_2_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SAMD
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_2_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_3_1">
            <span class="md-nav__icon md-icon"></span>
            SAMD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/I2C_host/platform/atmelsam/about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/I2C_host/platform/atmelsam/Usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/I2C_host/platform/atmelsam/Critical_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Critical Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3_1_4" >
        
          
          <label class="md-nav__link" for="__nav_2_2_3_1_4" id="__nav_2_2_3_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Doxygen
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_2_3_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_3_1_4">
            <span class="md-nav__icon md-icon"></span>
            Doxygen
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../atmelsam_i2c_host/annotated/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Struct List
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../atmelsam_i2c_host/class_member_variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Struct Member Variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../atmelsam_i2c_host/functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../atmelsam_i2c_host/variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../atmelsam_i2c_host/macros/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Macros
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../atmelsam_i2c_host/files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    I2C Slave
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            I2C Slave
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/I2C_slave/i2c_compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compatibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/I2C_slave/i2c_slave_api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3_3" id="__nav_2_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API platform
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            API platform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3_1" >
        
          
          <label class="md-nav__link" for="__nav_2_3_3_1" id="__nav_2_3_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SAMD
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_3_1">
            <span class="md-nav__icon md-icon"></span>
            SAMD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/I2C_slave/platform/atmelsam/About/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/I2C_slave/platform/atmelsam/Usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/I2C_slave/platform/atmelsam/Critical_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Critical Notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SPI Host
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            SPI Host
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/SPI_host/spi_host_compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compatibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/SPI_host/spi_host_api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3" >
        
          
          <label class="md-nav__link" for="__nav_2_4_3" id="__nav_2_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API platform
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_3">
            <span class="md-nav__icon md-icon"></span>
            API platform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_1" >
        
          
          <label class="md-nav__link" for="__nav_2_4_3_1" id="__nav_2_4_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SAMD
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_3_1">
            <span class="md-nav__icon md-icon"></span>
            SAMD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/SPI_host/platform/atmelsam/About/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/SPI_host/platform/atmelsam/Usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/SPI_host/platform/atmelsam/Critical_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Critical Notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SPI Slave
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            SPI Slave
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/SPI_slave/spi_slave_compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compatibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/SPI_slave/spi_slave_api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_3" >
        
          
          <label class="md-nav__link" for="__nav_2_5_3" id="__nav_2_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API platform
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_3">
            <span class="md-nav__icon md-icon"></span>
            API platform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_3_1" >
        
          
          <label class="md-nav__link" for="__nav_2_5_3_1" id="__nav_2_5_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SAMD
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_5_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_3_1">
            <span class="md-nav__icon md-icon"></span>
            SAMD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/SPI_slave/platform/atmelsam/About/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/SPI_slave/platform/atmelsam/Usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/SPI_slave/platform/atmelsam/Critical_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Critical Notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UART
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            UART
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/UART/uart_compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compatibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/UART/uart_api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_3" >
        
          
          <label class="md-nav__link" for="__nav_2_6_3" id="__nav_2_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API platform
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6_3">
            <span class="md-nav__icon md-icon"></span>
            API platform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_3_1" >
        
          
          <label class="md-nav__link" for="__nav_2_6_3_1" id="__nav_2_6_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SAMD
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6_3_1">
            <span class="md-nav__icon md-icon"></span>
            SAMD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/UART/platform/atmelsam/About/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/UART/platform/atmelsam/Usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/UART/platform/atmelsam/Critical_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Critical Notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DMA
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            DMA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/DMA/dma_compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compatibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/DMA/dma_api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_3" >
        
          
          <label class="md-nav__link" for="__nav_2_7_3" id="__nav_2_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API platform
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7_3">
            <span class="md-nav__icon md-icon"></span>
            API platform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_3_1" >
        
          
          <label class="md-nav__link" for="__nav_2_7_3_1" id="__nav_2_7_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SAMD
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_7_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7_3_1">
            <span class="md-nav__icon md-icon"></span>
            SAMD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/DMA/platform/atmelsam/About/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/DMA/platform/atmelsam/Usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/DMA/platform/atmelsam/Critical_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Critical Notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    USB
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            USB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/USB/usb_compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compatibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/USB/usb_api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8_3" >
        
          
          <label class="md-nav__link" for="__nav_2_8_3" id="__nav_2_8_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API platform
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8_3">
            <span class="md-nav__icon md-icon"></span>
            API platform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8_3_1" >
        
          
          <label class="md-nav__link" for="__nav_2_8_3_1" id="__nav_2_8_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SAMD
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_8_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8_3_1">
            <span class="md-nav__icon md-icon"></span>
            SAMD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/USB/platform/atmelsam/About/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/USB/platform/atmelsam/Usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/USB/platform/atmelsam/Critical_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Critical Notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Code style
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Code style
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#code-style" class="md-nav__link">
    <span class="md-ellipsis">
      Code style
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-single-most-important-rule" class="md-nav__link">
    <span class="md-ellipsis">
      The single most important rule
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-vscode" class="md-nav__link">
    <span class="md-ellipsis">
      Integration with VSCode
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conventions-used" class="md-nav__link">
    <span class="md-ellipsis">
      Conventions used
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-rules" class="md-nav__link">
    <span class="md-ellipsis">
      General rules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comments" class="md-nav__link">
    <span class="md-ellipsis">
      Comments
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    <span class="md-ellipsis">
      Variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#structures-enumerations-typedefs" class="md-nav__link">
    <span class="md-ellipsis">
      Structures, enumerations, typedefs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compound-statements" class="md-nav__link">
    <span class="md-ellipsis">
      Compound statements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#macros-and-preprocessor-directives" class="md-nav__link">
    <span class="md-ellipsis">
      Macros and preprocessor directives
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Documentation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clang-format-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Clang format integration
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#code-style" class="md-nav__link">
    <span class="md-ellipsis">
      Code style
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-single-most-important-rule" class="md-nav__link">
    <span class="md-ellipsis">
      The single most important rule
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-vscode" class="md-nav__link">
    <span class="md-ellipsis">
      Integration with VSCode
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conventions-used" class="md-nav__link">
    <span class="md-ellipsis">
      Conventions used
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-rules" class="md-nav__link">
    <span class="md-ellipsis">
      General rules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comments" class="md-nav__link">
    <span class="md-ellipsis">
      Comments
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    <span class="md-ellipsis">
      Variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#structures-enumerations-typedefs" class="md-nav__link">
    <span class="md-ellipsis">
      Structures, enumerations, typedefs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compound-statements" class="md-nav__link">
    <span class="md-ellipsis">
      Compound statements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#macros-and-preprocessor-directives" class="md-nav__link">
    <span class="md-ellipsis">
      Macros and preprocessor directives
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Documentation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clang-format-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Clang format integration
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Code style</h1>

<h2 id="code-style">Code style</h2>
<p>Ah yes.. Code style. We have it :) It is based on the rules set by <a href="https://github.com/MaJerle/c-code-style">MaJerle</a> We follow these code style rules:</p>
<ul>
<li>
<p><a href="#the-single-most-important-rule">The single most important rule</a></p>
</li>
<li>
<p><a href="#integration-with-vscode">Integration with VSCode</a></p>
</li>
<li>
<p><a href="#conventions-used">Conventions used</a></p>
</li>
<li>
<p><a href="#general-rules">General rules</a></p>
</li>
<li>
<p><a href="#comments">Comments</a></p>
</li>
<li>
<p><a href="#functions">Functions</a></p>
</li>
<li>
<p><a href="#variables">Variables</a></p>
</li>
<li>
<p><a href="#structures-enumerations-typedefs">Structures, enumerations, typedefs</a></p>
</li>
<li>
<p><a href="#compound-statements">Compound statements</a></p>
</li>
<li>
<p><a href="#switch-statement">Switch statement</a></p>
</li>
<li>
<p><a href="#macros-and-preprocessor-directives">Macros and preprocessor directives</a></p>
</li>
<li>
<p><a href="#documentation">Documentation</a></p>
</li>
<li>
<p><a href="#headersource-files">Header/source files</a></p>
</li>
<li>
<p><a href="#clang-format-integration">Clang format integration</a></p>
</li>
</ul>
<h2 id="the-single-most-important-rule">The single most important rule</h2>
<p>Let's start with the quote from <a href="https://developer.gnome.org/programming-guidelines/stable/c-coding-style.html.en">GNOME developer</a> site.</p>
<blockquote>
<p>The single most important rule when writing code is this: <em>check the surrounding code and try to imitate it</em>.</p>
<p>As a maintainer it is dismaying to receive a patch that is obviously in a different coding style to the surrounding code. This is disrespectful, like someone tromping into a spotlessly-clean house with muddy shoes.</p>
<p>So, whatever this document recommends, if there is already written code and you are patching it, keep its current style consistent even if it is not your favorite style.</p>
</blockquote>
<h2 id="integration-with-vscode">Integration with VSCode</h2>
<p>VScode comes with pre-installed <code>clang-format</code> tool (part of LLVM package) that has been design to help developers with auto-format tool during code development.
As such, it allows users to format code on file change (and save).
When file is saved, vscode will try to invoke the clang-format and format the code. Rules to use are in <code>.clang-format</code> file. If clang-format cannot find the rules in the path of current file, it will go all the way up to the root, until one is found. If still none is available, default rules are then being used.
This repository contains always up-to-date <code>.clang-format</code> file with rules matching explained ones.
You can place the folder in the root or your project or even in the root of your software development projects -&gt; use one file for all!
Some configurations shall be enabled:
<img alt="VSCode configuration" src="../assets/vscode-settings.png" /></p>
<h2 id="conventions-used">Conventions used</h2>
<p>The keywords <em>MUST</em>, <em>MUST NOT</em>, <em>REQUIRED</em>, <em>SHALL</em>, <em>SHALL NOT</em>, <em>SHOULD</em>, <em>SHOULD NOT</em>, <em>RECOMMENDED</em>, <em>NOT RECOMMENDED</em>, <em>MAY</em>, and <em>OPTIONAL</em> in this document are to be interpreted as described in BCP 14 [RFC2119] [RFC8174]</p>
<h2 id="general-rules">General rules</h2>
<p>Here are listed most obvious and important general rules. Please check them carefully before you continue with other chapters.</p>
<ul>
<li>
<p><code>clang-format</code> SHOULD be used with formatting file attached to this repository (version <code>15.x</code> is a minimum)</p>
</li>
<li>
<p>Use <code>C11</code> standard</p>
</li>
<li>
<p>Do not use tabs, use spaces instead</p>
</li>
<li>
<p>Use <code>4</code> spaces per indent level</p>
</li>
<li>
<p>Use <code>1</code> space between keyword and opening bracket</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="p">)</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="p">)</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">init</span><span class="p">;</span><span class="w"> </span><span class="n">condition</span><span class="p">;</span><span class="w"> </span><span class="n">step</span><span class="p">)</span>
<span class="k">do</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="p">)</span>
<span class="cm">/* Wrong */</span>
<span class="k">if</span><span class="p">(</span><span class="n">condition</span><span class="p">)</span>
<span class="k">while</span><span class="p">(</span><span class="n">condition</span><span class="p">)</span>
<span class="k">for</span><span class="p">(</span><span class="n">init</span><span class="p">;</span><span class="n">condition</span><span class="p">;</span><span class="n">step</span><span class="p">)</span>
<span class="k">do</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="k">while</span><span class="p">(</span><span class="n">condition</span><span class="p">)</span>
</code></pre></div>
<ul>
<li>Do not use space between function name and opening bracket</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w">              </span><span class="cm">/* OK */</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w">             </span><span class="cm">/* Wrong */</span>
</code></pre></div>
<ul>
<li>
<p>Never use <code>__</code> or <code>_</code> prefix for variables/functions/macros/types. This is reserved for C language itself</p>
</li>
<li>
<p>Prefer <code>prv_</code> name prefix for strictly module-private (static) functions</p>
</li>
<li>
<p>Prefer <code>libname_int_</code> or <code>libnamei_</code> prefix for library internal functions, that should not be used by the user application while they MUST be used across different library internal modules</p>
</li>
<li>
<p>Use only lowercase characters for variables/functions/types with optional underscore <code>_</code> char</p>
</li>
<li>
<p>Opening curly bracket is always at the same line as keyword (<code>for</code>, <code>while</code>, <code>do</code>, <code>switch</code>, <code>if</code>, ...)</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">           </span><span class="cm">/* OK */</span>
<span class="p">}</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">){</span><span class="w">            </span><span class="cm">/* Wrong */</span>
<span class="p">}</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w">             </span><span class="cm">/* Wrong */</span>
<span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Use single space before and after comparison and assignment operators</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w">              </span><span class="cm">/* OK */</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="cm">/* OK */</span>
<span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="o">+</span><span class="mi">4</span><span class="p">;</span><span class="w">                  </span><span class="cm">/* Wrong */</span>
<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="o">+</span><span class="mi">4</span><span class="p">;</span><span class="w">                </span><span class="cm">/* Wrong */</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">a</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">;</span><span class="o">++</span><span class="n">a</span><span class="p">)</span><span class="w">       </span><span class="cm">/* Wrong */</span>
</code></pre></div>
<ul>
<li>Use single space after every comma</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">func_name</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">        </span><span class="cm">/* OK */</span>
<span class="n">func_name</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span><span class="w">         </span><span class="cm">/* Wrong */</span>
</code></pre></div>
<ul>
<li>Do not initialize <code>global</code> variables to any default value (or <code>NULL</code>), implement it in the dedicated <code>init</code> function (if REQUIRED).</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">static</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w">       </span><span class="cm">/* Wrong */</span>
<span class="k">static</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w">   </span><span class="cm">/* Wrong */</span>
<span class="k">static</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">   </span><span class="cm">/* Wrong */</span>
</code></pre></div>
<blockquote>
<p>In embedded systems, it is very common that RAM memories are scattered across different memory locations in the system.
It quickly becomes tricky to handle all the cases, especially when user declares custom RAM sections.
Startup script is in-charge to set default values (.data and .bss) while other custom sections may not be filled with default values, which leads to variables with init value won't have any effect.</p>
<p>To be independent of such problem, create init function for each module and use it to set
default values for all of your variables, like so:</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="k">static</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w">       </span><span class="cm">/* OK */</span>
<span class="k">static</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w">   </span><span class="cm">/* Wrong - this value may not be set at zero </span>
<span class="cm">                          if linker script&amp;startup files are not properly handled */</span>
<span class="kt">void</span>
<span class="nf">my_module_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Declare all local variables of the same type in the same line</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">void</span>
<span class="nf">my_func</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="cm">/* 1 */</span>
<span class="w">  </span><span class="kt">char</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w">             </span><span class="cm">/* OK */</span>

<span class="w">  </span><span class="cm">/* 2 */</span>
<span class="w">  </span><span class="kt">char</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">          </span><span class="cm">/* OK */</span>

<span class="w">  </span><span class="cm">/* 3 */</span>
<span class="w">  </span><span class="kt">char</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">             </span><span class="cm">/* Wrong, variable with char type already exists */</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>
<p>Declare local variables in order</p>
</li>
<li>
<p>Custom structures and enumerations</p>
</li>
<li>
<p>Integer types, wider unsigned type first</p>
</li>
<li>
<p>Single/Double floating point</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span>
<span class="nf">my_func</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="cm">/* 1 */</span>
<span class="n">my_struct_t</span><span class="w"> </span><span class="n">my</span><span class="p">;</span><span class="w">     </span><span class="cm">/* First custom structures */</span>
<span class="n">my_struct_ptr_t</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">;</span><span class="w"> </span><span class="cm">/* Pointers too */</span>
<span class="cm">/* 2 */</span>
<span class="kt">uint32_t</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="kt">uint16_t</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="kt">int16_t</span><span class="w"> </span><span class="n">g</span><span class="p">;</span>
<span class="kt">char</span><span class="w"> </span><span class="n">h</span><span class="p">;</span>
<span class="cm">/* ... */</span>
<span class="cm">/* 3 */</span>
<span class="kt">double</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="kt">float</span><span class="w"> </span><span class="n">f</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</li>
<li>
<p>Always declare local variables at the beginning of the block, before first executable statement</p>
</li>
<li>
<p>Always add trailing comma in the last element of structure (or its children) initialization (this helps clang-format to properly format structures). Unless structure is very simple and short</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">str_t</span><span class="p">;</span>
<span class="n">str_t</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="p">.</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">   </span><span class="cm">/* Comma here */</span>
<span class="p">}</span>
<span class="cm">/* Examples of &quot;complex&quot; structure, with or with missing several trailing commas, after clang-format runs the formatting */</span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">my_struct_t</span><span class="w"> </span><span class="n">my_var_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TYPE1</span><span class="p">,</span>
<span class="w">  </span><span class="p">.</span><span class="n">type_data</span><span class="w"> </span><span class="o">=</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">          </span><span class="p">.</span><span class="n">type1</span><span class="w"> </span><span class="o">=</span>
<span class="w">              </span><span class="p">{</span>
<span class="w">                  </span><span class="p">.</span><span class="n">par1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                  </span><span class="p">.</span><span class="n">par2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="cm">/* Trailing comma here */</span>
<span class="w">              </span><span class="p">},</span><span class="w"> </span><span class="cm">/* Trailing comma here */</span>
<span class="w">      </span><span class="p">},</span><span class="w">  </span><span class="cm">/* Trailing comma here */</span>
<span class="p">};</span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">my_struct_t</span><span class="w"> </span><span class="n">my_var_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{.</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TYPE2</span><span class="p">,</span>
<span class="w">                                   </span><span class="p">.</span><span class="n">type_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                       </span><span class="p">.</span><span class="n">type2</span><span class="w"> </span><span class="o">=</span>
<span class="w">                                           </span><span class="p">{</span>
<span class="w">                                               </span><span class="p">.</span><span class="n">par1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                                               </span><span class="p">.</span><span class="n">par2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                                           </span><span class="p">},</span>
<span class="w">                                   </span><span class="p">}};</span><span class="w">    </span><span class="cm">/* Missing comma here */</span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">my_struct_t</span><span class="w"> </span><span class="n">my_var_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{.</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TYPE3</span><span class="p">,</span>
<span class="w">                                   </span><span class="p">.</span><span class="n">type_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{.</span><span class="n">type3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                     </span><span class="p">.</span><span class="n">par1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                                                     </span><span class="p">.</span><span class="n">par2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                                                 </span><span class="p">}}};</span><span class="w"> </span><span class="cm">/* Missing 2 commas here */</span>
<span class="cm">/* No trailing commas - good only for small and simple structures */</span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">my_struct_t</span><span class="w"> </span><span class="n">my_var_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{.</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TYPE4</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="n">type_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{.</span><span class="n">type4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{.</span><span class="n">par1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="n">par2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">}}};</span>
</code></pre></div>
<ul>
<li>Declare counter variables in <code>for</code> loop</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="cm">/* OK, if you need counter variable later */</span>
<span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(...)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
<span class="cm">/* Wrong */</span>
<span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">...</span>
</code></pre></div>
<ul>
<li>Avoid variable assignment with function call in declaration, except for single variables</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">void</span>
<span class="nf">a</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="cm">/* Avoid function calls when declaring variable */</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">  </span><span class="cm">/* Use this */</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">  </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">  </span><span class="cm">/* This is ok */</span>
<span class="w">  </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>
<p>Except <code>char</code>, <code>float</code> or <code>double</code>, always use types declared in <code>stdint.h</code> library, eg. <code>uint8_t</code> for <code>unsigned 8-bit</code>, etc.</p>
</li>
<li>
<p>Do not use <code>stdbool.h</code> library. Use <code>1</code> or <code>0</code> for <code>true</code> or <code>false</code> respectively</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="cm">/* Wrong */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>
<p>Never compare against <code>true</code>, eg. <code>if (check_func() == 1)</code>, use <code>if (check_func()) { ... }</code></p>
</li>
<li>
<p>Always compare pointers against <code>NULL</code> value</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">ptr</span><span class="p">;</span>
<span class="cm">/* ... */</span>
<span class="cm">/* OK, compare against NULL */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ptr</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">ptr</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
<span class="cm">/* Wrong */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ptr</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">ptr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Always use <em>pre-increment (and decrement respectively)</em> instead of <em>post-increment (and decrement respectively)</em></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">...</span>
<span class="n">a</span><span class="o">++</span><span class="p">;</span><span class="w">            </span><span class="cm">/* Wrong */</span>
<span class="o">++</span><span class="n">a</span><span class="p">;</span><span class="w">            </span><span class="cm">/* OK */</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w">  </span><span class="cm">/* OK */</span>
</code></pre></div>
<ul>
<li>
<p>Always use <code>size_t</code> for length or size variables</p>
</li>
<li>
<p>Always use <code>const</code> for pointer if function should not modify memory pointed to by <code>pointer</code></p>
</li>
<li>
<p>Always use <code>const</code> for function parameter or variable, if it should not be modified</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* When d could be modified, data pointed to by d could not be modified */</span>
<span class="kt">void</span>
<span class="nf">my_func</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
<span class="cm">/* When d and data pointed to by d both could not be modified */</span>
<span class="kt">void</span>
<span class="nf">my_func</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
<span class="cm">/* Not REQUIRED, it is advised */</span>
<span class="kt">void</span>
<span class="nf">my_func</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">len</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
<span class="cm">/* When d should not be modified inside function, only data pointed to by d could be modified */</span>
<span class="kt">void</span>
<span class="nf">my_func</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>
<p>When function may accept pointer of any type, always use <code>void *</code>, do not use <code>uint8_t *</code></p>
</li>
<li>
<p>Function MUST take care of proper casting in implementation</p>
<div class="highlight"><pre><span></span><code><span class="cm">/*</span>
<span class="cm">* To send data, function should not modify memory pointed to by `data` variable</span>
<span class="cm">* thus `const` keyword is important</span>
<span class="cm">*</span>
<span class="cm">* To send generic data (or to write them to file)</span>
<span class="cm">* any type may be passed for data,</span>
<span class="cm">* thus use `void *`</span>
<span class="cm">*/</span>
<span class="cm">/* OK example */</span>
<span class="kt">void</span>
<span class="nf">send_data</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">len</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* OK */</span>
<span class="cm">/* Do not cast `void *` or `const void *` */</span>
<span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="o">*</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="cm">/* Function handles proper type for internal usage */</span>
<span class="p">}</span>
<span class="kt">void</span>
<span class="nf">send_data</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">    </span><span class="cm">/* Wrong, not not use int */</span>
<span class="p">}</span>
</code></pre></div>
</li>
<li>
<p>Always use brackets with <code>sizeof</code> operator</p>
</li>
<li>
<p>Never use <em>Variable Length Array</em> (VLA). Use dynamic memory allocation instead with standard C <code>malloc</code> and <code>free</code> functions or if library/project provides custom memory allocation, use its implementation</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<span class="kt">void</span>
<span class="nf">my_func</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="kt">int32_t</span><span class="o">*</span><span class="w"> </span><span class="n">arr</span><span class="p">;</span>
<span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">arr</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">n</span><span class="p">);</span><span class="w"> </span><span class="cm">/* OK, Allocate memory */</span>
<span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="w"> </span><span class="o">*</span><span class="n">arr</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">n</span><span class="p">);</span><span class="w">  </span><span class="cm">/* Wrong, brackets for sizeof operator are missing */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">arr</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="cm">/* FAIL, no memory */</span>
<span class="p">}</span>
<span class="n">free</span><span class="p">(</span><span class="n">arr</span><span class="p">);</span><span class="w">  </span><span class="cm">/* Free memory after usage */</span>
<span class="p">}</span>
<span class="cm">/* Wrong */</span>
<span class="kt">void</span>
<span class="nf">my_func</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="n">arr</span><span class="p">[</span><span class="n">size</span><span class="p">];</span><span class="w">  </span><span class="cm">/* Wrong, do not use VLA */</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>
<p>Always compare variable against zero, except if it is treated as <code>boolean</code> type</p>
</li>
<li>
<p>Never compare <code>boolean-treated</code> variables against zero or one. Use NOT (<code>!</code>) instead</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">size_t</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w">  </span><span class="cm">/* Counter variable */</span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">is_ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span><span class="cm">/* Boolean-treated variable */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">length</span><span class="p">)</span><span class="w">         </span><span class="cm">/* Wrong, length is not treated as boolean */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">     </span><span class="cm">/* OK, length is treated as counter variable containing multi values, not only 0 or 1 */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">length</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">    </span><span class="cm">/* OK, length is treated as counter variable containing multi values, not only 0 or 1 */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_ok</span><span class="p">)</span><span class="w">          </span><span class="cm">/* OK, variable is treated as boolean */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">is_ok</span><span class="p">)</span><span class="w">         </span><span class="cm">/* OK, -||- */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_ok</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">     </span><span class="cm">/* Wrong, never compare boolean variable against 1! */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_ok</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">     </span><span class="cm">/* Wrong, use ! for negative check */</span>
</code></pre></div>
<ul>
<li>
<p>Always use <code>/* comment */</code> for comments, even for <em>single-line</em> comment</p>
</li>
<li>
<p>Always include check for <code>C++</code> with <code>extern</code> keyword in header file</p>
</li>
<li>
<p>Every function MUST include <em>doxygen-enabled</em> comment, even if function is <code>static</code></p>
</li>
<li>
<p>Use English names/text for functions, variables, comments</p>
</li>
<li>
<p>Use <em>lowercase</em> characters for variables</p>
</li>
<li>
<p>Use <em>underscore</em> if variable contains multiple names, eg. <code>force_redraw</code>. Do not use <code>forceRedraw</code></p>
</li>
<li>
<p>Never cast function returning <code>void *</code>, eg. <code>uint8_t* ptr = (uint8_t *)func_returning_void_ptr();</code> as <code>void *</code> is safely promoted to any other pointer type</p>
</li>
<li>
<p>Use <code>uint8_t* ptr = func_returning_void_ptr();</code> instead</p>
</li>
<li>
<p>Always use <code>&lt;</code> and <code>&gt;</code> for C Standard Library include files, eg. <code>#include &lt;stdlib.h&gt;</code></p>
</li>
<li>
<p>Always use <code>""</code> for custom libraries, eg. <code>#include "my_library.h"</code></p>
</li>
<li>
<p>When casting to pointer type, always align asterisk to type, eg. <code>uint8_t* t = (uint8_t*)var_width_diff_type</code></p>
</li>
<li>
<p>Always respect code style already used in project or library</p>
</li>
</ul>
<h2 id="comments">Comments</h2>
<ul>
<li>Comments starting with <code>//</code> are not allowed. Always use <code>/* comment */</code>, even for single-line comment</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1">//This is comment (wrong)</span>
<span class="cm">/* This is comment (ok) */</span>
</code></pre></div>
<ul>
<li>For multi-line comments use <code>space+asterisk</code> for every line</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/*</span>
<span class="cm"> * This is multi-line comments,</span>
<span class="cm"> * written in 2 lines (ok)</span>
<span class="cm"> */</span>

<span class="cm">/**</span>
<span class="cm"> * Wrong, use double-asterisk only for doxygen documentation</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm">* Single line comment without space before asterisk (wrong)</span>
<span class="cm">*/</span>

<span class="cm">/*</span>
<span class="cm"> * Single line comment in multi-line configuration (wrong)</span>
<span class="cm"> */</span>

<span class="cm">/* Single line comment (ok) */</span>
</code></pre></div>
<ul>
<li>Use <code>12</code> indents (<code>12 * 4</code> spaces) offset when commenting. If statement is larger than <code>12</code> indents, make comment <code>4-spaces</code> aligned (examples below) to next available indent</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">void</span>
<span class="nf">my_func</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>

<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">call_func_returning_char_a</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="w">          </span><span class="cm">/* This is comment with 12*4 spaces indent from beginning of line */</span>
<span class="w">    </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">call_func_returning_char_a_but_func_name_is_very_long</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="w">   </span><span class="cm">/* This is comment, aligned to 4-spaces indent */</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="functions">Functions</h2>
<ul>
<li>
<p>Every function which may have access from outside its module, MUST include function <em>prototype</em> (or <em>declaration</em>)</p>
</li>
<li>
<p>Function name MUST be lowercase, optionally separated with underscore <code>_</code> character</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">my_func</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">myfunc</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cm">/* Wrong */</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">MYFunc</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">myFunc</span><span class="p">();</span>
</code></pre></div>
<ul>
<li>When function returns pointer, align asterisk to return type</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">my_func</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="n">my_struct_t</span><span class="o">*</span><span class="w"> </span><span class="nf">my_func</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="cm">/* Wrong */</span>
<span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="nf">my_func</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="n">my_struct_t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">my_func</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</code></pre></div>
<ul>
<li>Align all function prototypes (with the same/similar functionality) for better readability</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK, function names aligned */</span>
<span class="kt">void</span><span class="w">        </span><span class="nf">set</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">);</span>
<span class="n">my_type_t</span><span class="w">   </span><span class="nf">get</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="n">my_ptr_t</span><span class="o">*</span><span class="w">   </span><span class="nf">get_ptr</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cm">/* Wrong */</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">set</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">);</span>
<span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</code></pre></div>
<ul>
<li>Function implementation MUST include return type and optional other keywords in separate line</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="kt">int32_t</span>
<span class="nf">foo</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* OK */</span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span>
<span class="nf">get_string</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Hello world!</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* Wrong */</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">foo</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="variables">Variables</h2>
<ul>
<li>Make variable name all lowercase with optional underscore <code>_</code> character</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="n">my_var</span><span class="p">;</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="n">myvar</span><span class="p">;</span>
<span class="cm">/* Wrong */</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="n">A</span><span class="p">;</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="n">myVar</span><span class="p">;</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="n">MYVar</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>Group local variables together by <code>type</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">void</span>
<span class="nf">foo</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">   </span><span class="cm">/* OK */</span>
<span class="w">  </span><span class="kt">char</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">         </span><span class="cm">/* Wrong, char type already exists */</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Do not declare variable after first executable statement</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">void</span>
<span class="nf">foo</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">  </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bar</span><span class="p">();</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">      </span><span class="cm">/* Wrong, there is already executable statement */</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>You may declare new variables inside next indent level</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">;</span><span class="w">   </span><span class="cm">/* OK, c and d are in if-statement scope */</span>
<span class="w">  </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="p">();</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">e</span><span class="p">;</span><span class="w">      </span><span class="cm">/* Wrong, there was already executable statement inside block */</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Declare pointer variables with asterisk aligned to type</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="cm">/* Wrong */</span>
<span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">;</span>
<span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>When declaring multiple pointer variables, you may declare them with asterisk aligned to variable name</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">n</span><span class="p">;</span>
</code></pre></div>
<h2 id="structures-enumerations-typedefs">Structures, enumerations, typedefs</h2>
<ul>
<li>
<p>Structure or enumeration name MUST be lowercase with optional underscore <code>_</code> character between words</p>
</li>
<li>
<p>Structure or enumeration may contain <code>typedef</code> keyword</p>
</li>
<li>
<p>All structure members MUST be lowercase</p>
</li>
<li>
<p>All enumeration members SHOULD be uppercase</p>
</li>
<li>
<p>Structure/enumeration MUST follow doxygen documentation syntax
  When structure is declared, it may use one of <code>3</code> different options:</p>
</li>
<li>When structure is declared with <em>name only</em>, it <em>MUST not</em> contain <code>_t</code> suffix after its name.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">struct_name</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>
<ol>
<li>When structure is declared with <em>typedef only</em>, it <em>has to</em> contain <code>_t</code> suffix after its name.</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">struct_name_t</span><span class="p">;</span>
</code></pre></div>
<ol>
<li>When structure is declared with <em>name and typedef</em>, it <em>MUST NOT</em> contain <code>_t</code> for basic name and it <em>MUST</em> contain <code>_t</code> suffix after its name for typedef part.</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">struct_name</span><span class="w"> </span><span class="p">{</span><span class="w">    </span><span class="cm">/* No _t */</span>
<span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">struct_name_t</span><span class="p">;</span><span class="w">    </span><span class="cm">/* _t */</span>
</code></pre></div>
<p>Examples of bad declarations and their suggested corrections</p>
<p><div class="highlight"><pre><span></span><code><span class="cm">/* a and b MUST be separated to 2 lines */</span>
<span class="cm">/* Name of structure with typedef MUST include _t suffix */</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="cm">/* Corrected version */</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">a_t</span><span class="p">;</span>
<span class="cm">/* Wrong name, it MUST not include _t suffix */</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">name_t</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">};</span>
<span class="cm">/* Wrong parameters, MUST be all uppercase */</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="n">MY_ENUM_TESTA</span><span class="p">,</span>
<span class="w"> </span><span class="n">my_enum_testb</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="n">my_enum_t</span><span class="p">;</span>
</code></pre></div>
- When initializing structure on declaration, use <code>C99</code> initialization style</p>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="n">a_t</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">  </span><span class="p">.</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="p">};</span>
<span class="cm">/* Wrong */</span>
<span class="n">a_t</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">};</span>
</code></pre></div>
<ul>
<li>When new typedef is introduced for function handles, use <code>_fn</code> suffix</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* Function accepts 2 parameters and returns uint8_t */</span>
<span class="cm">/* Name of typedef has `_fn` suffix */</span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">my_func_typedef_fn</span><span class="p">)(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p2</span><span class="p">);</span>
</code></pre></div>
<h2 id="compound-statements">Compound statements</h2>
<ul>
<li>
<p>Every compound statement MUST include opening and closing curly bracket, even if it includes only <code>1</code> nested statement</p>
</li>
<li>
<p>Every compound statement MUST include single indent; when nesting statements, include <code>1</code> indent size for each nest</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">do_a</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">do_b</span><span class="p">();</span>
<span class="p">}</span>
<span class="cm">/* Wrong */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="w">  </span><span class="n">do_a</span><span class="p">();</span>
<span class="k">else</span>
<span class="w">  </span><span class="n">do_b</span><span class="p">();</span>
<span class="cm">/* Wrong */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="n">do_a</span><span class="p">();</span>
<span class="k">else</span><span class="w"> </span><span class="n">do_b</span><span class="p">();</span>
</code></pre></div>
<ul>
<li>In case of <code>if</code> or <code>if-else-if</code> statement, <code>else</code> MUST be in the same line as closing bracket of first statement</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
<span class="cm">/* Wrong */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
<span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
<span class="cm">/* Wrong */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>In case of <code>do-while</code> statement, <code>while</code> part MUST be in the same line as closing bracket of <code>do</code> part</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="k">do</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">  </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">do_a</span><span class="p">();</span>
<span class="w">  </span><span class="n">do_b</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">check</span><span class="p">());</span>
<span class="cm">/* Wrong */</span>
<span class="k">do</span>
<span class="p">{</span>
<span class="cm">/* ... */</span>
<span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">check</span><span class="p">());</span>
<span class="cm">/* Wrong */</span>
<span class="k">do</span><span class="w"> </span><span class="p">{</span>
<span class="cm">/* ... */</span>
<span class="p">}</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">check</span><span class="p">());</span>
</code></pre></div>
<ul>
<li>Indentation is REQUIRED for every opening bracket</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">do_a</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">do_b</span><span class="p">();</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">do_c</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Compound statement MUST include curly brackets, even in the case of a single statement. Examples below show bad practices</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="n">do_b</span><span class="p">();</span>
<span class="k">else</span><span class="w"> </span><span class="n">do_c</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="n">do_a</span><span class="p">();</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">do_b</span><span class="p">();</span>
</code></pre></div>
<ul>
<li>Empty <code>while</code>, <code>do-while</code> or <code>for</code> loops MUST include brackets</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">is_register_bit_set</span><span class="p">())</span><span class="w"> </span><span class="p">{}</span>
<span class="cm">/* Wrong */</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">is_register_bit_set</span><span class="p">());</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">is_register_bit_set</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">is_register_bit_set</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>If <code>while</code> (or <code>for</code>, <code>do-while</code>, etc) is empty (it can be the case in embedded programming), use empty single-line brackets</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* Wait for bit to be set in embedded hardware unit</span>
<span class="cm">uint32_t* addr = HW_PERIPH_REGISTER_ADDR;</span>
<span class="cm">/* Wait bit 13 to be ready */</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">addr</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">13</span><span class="p">))</span><span class="w"> </span><span class="p">{}</span><span class="w">        </span><span class="cm">/* OK, empty loop contains no spaces inside curly brackets */</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">addr</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">13</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">       </span><span class="cm">/* Wrong */</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">addr</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">13</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">         </span><span class="cm">/* Wrong */</span>
<span class="p">}</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">addr</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">13</span><span class="p">));</span><span class="w">          </span><span class="cm">/* Wrong, curly brackets are missing. Can lead to compiler warnings or unintentional bugs */</span>
</code></pre></div>
<ul>
<li>
<p>Always prefer using loops in this order: <code>for</code>, <code>do-while</code>, <code>while</code></p>
</li>
<li>
<p>Avoid incrementing variables inside loop block if possible, see examples</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* Not recommended */</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="p">.</span>
<span class="w">  </span><span class="p">..</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="o">++</span><span class="n">a</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* Better */</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
<span class="cm">/* Better, if inc may not happen in every cycle */</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(...)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="o">++</span><span class="n">a</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Inline <code>if</code> statement MAY be used only for assignment or function call operations</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">if_yes</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">if_no</span><span class="p">;</span><span class="w"> </span><span class="cm">/* Assignment */</span>
<span class="n">func_call</span><span class="p">(</span><span class="n">condition</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">if_yes</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">if_no</span><span class="p">);</span><span class="w"> </span><span class="cm">/* Function call */</span>
<span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">if_yes</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">if_no</span><span class="p">)</span><span class="w"> </span><span class="p">{...}</span><span class="w">   </span><span class="cm">/* OK */</span>
<span class="cm">/* Wrong, this code is not well maintenable */</span>
<span class="n">condition</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">call_to_function_a</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">call_to_function_b</span><span class="p">();</span>
<span class="cm">/* Rework to have better program flow */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">call_to_function_a</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">call_to_function_b</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>#### Switch statement</p>
<ul>
<li>
<p>Add <em>single indent</em> for every <code>case</code> statement</p>
</li>
<li>
<p>Use additional <em>single indent</em> for <code>break</code> statement in each <code>case</code> or <code>default</code> statement</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK, every case has single indent */</span>
<span class="cm">/* OK, every break has additional indent */</span>
<span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">check</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span>
<span class="w">      </span><span class="n">do_a</span><span class="p">();</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<span class="w">      </span><span class="n">do_b</span><span class="p">();</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="k">default</span><span class="o">:</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* Wrong, case indent missing */</span>
<span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">check</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="k">case</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span>
<span class="w">  </span><span class="n">do_a</span><span class="p">();</span>
<span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="k">case</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<span class="w">  </span><span class="n">do_b</span><span class="p">();</span>
<span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="k">default</span><span class="o">:</span>
<span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* Wrong */</span>
<span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">check</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span>
<span class="w">      </span><span class="n">do_a</span><span class="p">();</span>
<span class="w">  </span><span class="k">break</span><span class="p">;</span><span class="w">      </span><span class="cm">/* Wrong, break MUST have indent as it is under case */</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<span class="w">  </span><span class="n">do_b</span><span class="p">();</span><span class="w">     </span><span class="cm">/* Wrong, indent under case is missing */</span>
<span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="k">default</span><span class="o">:</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Always include <code>default</code> statement</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">var</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span>
<span class="w">      </span><span class="n">do_job</span><span class="p">();</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="k">default</span><span class="o">:</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* Wrong, default is missing */</span>
<span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">var</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span>
<span class="w">      </span><span class="n">do_job</span><span class="p">();</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>
<p>If local variables are REQUIRED, use curly brackets and put <code>break</code> statement inside.</p>
</li>
<li>
<p>Put opening curly bracket in the same line as <code>case</code> statement</p>
<div class="highlight"><pre><span></span><code><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="cm">/* OK */</span>
<span class="k">case</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="w">  </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="w">  </span><span class="cm">/* ... */</span>
<span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* Wrong */</span>
<span class="k">case</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<span class="p">{</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">  </span><span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* Wrong, break shall be inside */</span>
<span class="k">case</span><span class="w"> </span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</li>
</ul>
<h2 id="macros-and-preprocessor-directives">Macros and preprocessor directives</h2>
<ul>
<li>
<p>Always use macros instead of literal constants, especially for numbers</p>
</li>
<li>
<p>All macros MUST be fully uppercase, with optional underscore <code>_</code> character, except if they are clearly marked as function which may be in the future replaced with regular function syntax</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="cp">#define SQUARE(x)         ((x) * (x))</span>
<span class="cm">/* Wrong */</span>
<span class="cp">#define square(x)           ((x) * (x))</span>
</code></pre></div>
<ul>
<li>Always protect input parameters with parentheses</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="cp">#define MIN(x, y)           ((x) &lt; (y) ? (x) : (y))</span>
<span class="cm">/* Wrong */</span>
<span class="cp">#define MIN(x, y)           x &lt; y ? x : y</span>
</code></pre></div>
<ul>
<li>Always protect final macro evaluation with parenthesis</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* Wrong */</span>
<span class="cp">#define MIN(x, y)           (x) &lt; (y) ? (x) : (y)</span>
<span class="cp">#define SUM(x, y)           (x) + (y)</span>
<span class="cm">/* Imagine result of this equation using wrong SUM implementation */</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">SUM</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">  </span><span class="cm">/* Expected result is 5 * 7 = 35 */</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w">  </span><span class="cm">/* It is evaluated to this, final result = 19 which is not what we expect */</span>
<span class="cm">/* Correct implementation */</span>
<span class="cp">#define MIN(x, y)           ((x) &lt; (y) ? (x) : (y))</span>
<span class="cp">#define SUM(x, y)           ((x) + (y))</span>
</code></pre></div>
<ul>
<li>When macro uses multiple statements, protect these using <code>do {} while (0)</code> statement</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">px</span><span class="p">,</span><span class="w"> </span><span class="n">py</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">point_t</span><span class="p">;</span>
<span class="n">point_t</span><span class="w"> </span><span class="n">p</span><span class="p">;</span><span class="w">                  </span><span class="cm">/* Define new point */</span>
<span class="cm">/* Wrong implementation */</span>
<span class="cm">/* Define macro to set point */</span>
<span class="cp">#define SET_POINT(p, x, y)  (p)-&gt;px = (x); (p)-&gt;py = (y)    </span><span class="cm">/* 2 statements. Last one should not implement semicolon */</span>
<span class="n">SET_POINT</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">        </span><span class="cm">/* Set point to position 3, 4. This evaluates to... */</span>
<span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">px</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">py</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w"> </span><span class="cm">/* ... to this. In this example this is not a problem. */</span>
<span class="cm">/* Consider this ugly code, however it is valid by C standard (not recommended) */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w">                      </span><span class="cm">/* If a is true */</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w">                  </span><span class="cm">/* If b is true */</span>
<span class="w">      </span><span class="n">SET_POINT</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="cm">/* Set point to x = 3, y = 4 */</span>
<span class="w">  </span><span class="k">else</span>
<span class="w">      </span><span class="n">SET_POINT</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span><span class="cm">/* Set point to x = 5, y = 6 */</span>
<span class="cm">/* Evaluates to code below. Do you see the problem? */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="w">      </span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">px</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">py</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="w">  </span><span class="k">else</span>
<span class="w">      </span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">px</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">py</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
<span class="cm">/* Or if we rewrite it a little */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="w">      </span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">px</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="w">      </span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">py</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="w">  </span><span class="k">else</span>
<span class="w">      </span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">px</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w">      </span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">py</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">* Ask yourself a question: To which `if` statement does the `else` keyword belong?</span>
<span class="cm">*</span>
<span class="cm">* Based on first part of code, answer is straight-forward. To inner `if` statement when we check `b` condition</span>
<span class="cm">* Actual answer: Compilation error as `else` belongs nowhere</span>
<span class="cm">*/</span>
<span class="cm">/* Better and correct implementation of macro */</span>
<span class="cp">#define SET_POINT(p, x, y)  do { (p)-&gt;px = (x); (p)-&gt;py = (y); } while (0)    </span><span class="cm">/* 2 statements. No semicolon after while loop */</span>
<span class="cm">/* Or even better */</span>
<span class="cp">#define SET_POINT(p, x, y)  do {    \   </span><span class="cm">/* Backslash indicates statement continues in new line */</span>
<span class="w">  </span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">px</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w">                  </span>\
<span class="w">  </span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">py</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="p">);</span><span class="w">                  </span>\
<span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w">                             </span><span class="cm">/* 2 statements. No semicolon after while loop */</span>
<span class="cm">/* Now original code evaluates to */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="w">      </span><span class="k">do</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">px</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">py</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="k">else</span>
<span class="w">      </span><span class="k">do</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">px</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">py</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="cm">/* Every part of `if` or `else` contains only `1` inner statement (do-while), hence this is valid evaluation */</span>
<span class="cm">/* To make code perfect, use brackets for every if-ifelse-else statements */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                    </span><span class="cm">/* If a is true */</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                </span><span class="cm">/* If b is true */</span>
<span class="w">      </span><span class="n">SET_POINT</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="cm">/* Set point to x = 3, y = 4 */</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">SET_POINT</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span><span class="cm">/* Set point to x = 5, y = 6 */</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Avoid using <code>#ifdef</code> or <code>#ifndef</code>. Use <code>defined()</code> or <code>!defined()</code> instead</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cp">#ifdef XYZ</span>
<span class="cm">/* do something */</span>
<span class="cp">#endif </span><span class="cm">/* XYZ */</span>
</code></pre></div>
<ul>
<li>Always document <code>if/elif/else/endif</code> statements</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="cp">#if defined(XYZ)</span>
<span class="cm">/* Do if XYZ defined */</span>
<span class="cp">#else </span><span class="cm">/* defined(XYZ) */</span>
<span class="cm">/* Do if XYZ not defined */</span>
<span class="cp">#endif </span><span class="cm">/* !defined(XYZ) */</span>
<span class="cm">/* Wrong */</span>
<span class="cp">#if defined(XYZ)</span>
<span class="cm">/* Do if XYZ defined */</span>
<span class="cp">#else</span>
<span class="cm">/* Do if XYZ not defined */</span>
<span class="cp">#endif</span>
</code></pre></div>
<ul>
<li>Do not indent sub statements inside <code>#if</code> statement</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* OK */</span>
<span class="cp">#if defined(XYZ)</span>
<span class="cp">#if defined(ABC)</span>
<span class="cm">/* do when ABC defined */</span>
<span class="cp">#endif </span><span class="cm">/* defined(ABC) */</span>
<span class="cp">#else </span><span class="cm">/* defined(XYZ) */</span>
<span class="cm">/* Do when XYZ not defined */</span>
<span class="cp">#endif </span><span class="cm">/* !defined(XYZ) */</span>
<span class="cm">/* Wrong */</span>
<span class="cp">#if defined(XYZ)</span>
<span class="w">  </span><span class="cp">#if defined(ABC)</span>
<span class="w">      </span><span class="cm">/* do when ABC defined */</span>
<span class="w">  </span><span class="cp">#endif </span><span class="cm">/* defined(ABC) */</span>
<span class="cp">#else </span><span class="cm">/* defined(XYZ) */</span>
<span class="w">  </span><span class="cm">/* Do when XYZ not defined */</span>
<span class="cp">#endif </span><span class="cm">/* !defined(XYZ) */</span>
</code></pre></div>
<h2 id="documentation">Documentation</h2>
<p>Documented code allows doxygen to parse and generate html/pdf/latex output, thus it is very important to do it properly at an early stage of the project.</p>
<ul>
<li>
<p>Use doxygen-enabled documentation style for <code>variables</code>, <code>functions</code> and <code>structures/enumerations</code></p>
</li>
<li>
<p>Always use <code>\</code> for doxygen, do not use <code>@</code></p>
</li>
<li>
<p>Always use <code>5x4</code> spaces (<code>5</code> tabs) offset from beginning of line for text</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm">* \brief           Holds pointer to first entry in linked list</span>
<span class="cm">*                  Beginning of this text is 5 tabs (20 spaces) from beginning of line</span>
<span class="cm">*/</span>
<span class="k">static</span>
<span class="n">type_t</span><span class="o">*</span><span class="w"> </span><span class="n">list</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>
<p>Every structure/enumeration member MUST include documentation</p>
</li>
<li>
<p>Use <code>12x4 spaces</code> offset for beginning of comment</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm">* \brief           This is point struct</span>
<span class="cm">* \note            This structure is used to calculate all point</span>
<span class="cm">*                      related stuff</span>
<span class="cm">*/</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">                                  </span><span class="cm">/*!&lt; Point X coordinate */</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">y</span><span class="p">;</span><span class="w">                                  </span><span class="cm">/*!&lt; Point Y coordinate */</span>
<span class="w">  </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w">                               </span><span class="cm">/*!&lt; Point size.</span>
<span class="cm">                                                  Since comment is very big,</span>
<span class="cm">                                                  you may go to next line */</span>
<span class="p">}</span><span class="w"> </span><span class="n">point_t</span><span class="p">;</span>
<span class="cm">/**</span>
<span class="cm">* \brief           Point color enumeration</span>
<span class="cm">*/</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">COLOR_RED</span><span class="p">,</span><span class="w">                                  </span><span class="cm">/*!&lt; Red color. This comment has 12x4</span>
<span class="cm">                                                  spaces offset from beginning of line */</span>
<span class="w">  </span><span class="n">COLOR_GREEN</span><span class="p">,</span><span class="w">                                </span><span class="cm">/*!&lt; Green color */</span>
<span class="w">  </span><span class="n">COLOR_BLUE</span><span class="p">,</span><span class="w">                                 </span><span class="cm">/*!&lt; Blue color */</span>
<span class="p">}</span><span class="w"> </span><span class="n">point_color_t</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>
<p>Documentation for functions MUST be written in function implementation (source file usually)</p>
</li>
<li>
<p>Function MUST include <code>brief</code> and all parameters documentation</p>
</li>
<li>
<p>Every parameter MUST be noted if it is <code>in</code> or <code>out</code> for <em>input</em> and <em>output</em> respectively</p>
</li>
<li>
<p>Function MUST include <code>return</code> parameter if it returns something. This does not apply for <code>void</code> functions</p>
</li>
<li>
<p>Function can include other doxygen keywords, such as <code>note</code> or <code>warning</code></p>
</li>
<li>
<p>Use colon <code>:</code> between parameter name and its description</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm">* \brief           Sum `2` numbers</span>
<span class="cm">* \param[in]       a: First number</span>
<span class="cm">* \param[in]       b: Second number</span>
<span class="cm">* \return          Sum of input values</span>
<span class="cm">*/</span>
<span class="kt">int32_t</span>
<span class="nf">sum</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/**</span>
<span class="cm">* \brief           Sum `2` numbers and write it to pointer</span>
<span class="cm">* \note            This function does not return value, it stores it to pointer instead</span>
<span class="cm">* \param[in]       a: First number</span>
<span class="cm">* \param[in]       b: Second number</span>
<span class="cm">* \param[out]      result: Output variable used to save result</span>
<span class="cm">*/</span>
<span class="kt">void</span>
<span class="nf">void_sum</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int32_t</span><span class="o">*</span><span class="w"> </span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">*</span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>If function returns member of enumeration, use <code>ref</code> keyword to specify which one</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm">* \brief           My enumeration</span>
<span class="cm">*/</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">MY_ERR</span><span class="p">,</span><span class="w">                                     </span><span class="cm">/*!&lt; Error value */</span>
<span class="w">  </span><span class="n">MY_OK</span><span class="w">                                       </span><span class="cm">/*!&lt; OK value */</span>
<span class="p">}</span><span class="w"> </span><span class="n">my_enum_t</span><span class="p">;</span>
<span class="cm">/**</span>
<span class="cm">* \brief           Check some value</span>
<span class="cm">* \return          \ref MY_OK on success, member of \ref my_enum_t otherwise</span>
<span class="cm">*/</span>
<span class="n">my_enum_t</span>
<span class="nf">check_value</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">MY_OK</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Use notation (`NULL` =&gt; <code>NULL</code>) for constants or numbers</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm">* \brief           Get data from input array</span>
<span class="cm">* \param[in]       in: Input data</span>
<span class="cm">* \return          Pointer to output data on success, `NULL` otherwise</span>
<span class="cm">*/</span>
<span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span>
<span class="nf">get_data</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">in</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Documentation for macros MUST include <code>hideinitializer</code> doxygen command</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm">* \brief           Get minimal value between `x` and `y`</span>
<span class="cm">* \param[in]       x: First value</span>
<span class="cm">* \param[in]       y: Second value</span>
<span class="cm">* \return          Minimal value between `x` and `y`</span>
<span class="cm">* \hideinitializer</span>
<span class="cm">*/</span>
<span class="cp">#define MIN(x, y)       ((x) &lt; (y) ? (x) : (y))</span>
</code></pre></div>
<p>## Header/source files</p>
<ul>
<li>
<p>Leave single empty line at the end of file</p>
</li>
<li>
<p>Every file MUST include doxygen annotation for <code>file</code> and <code>brief</code> description followed by empty line (when using doxygen)</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm">* \file            template.h</span>
<span class="cm">* \brief           Template include file</span>
<span class="cm">*/</span>
<span class="w">                  </span><span class="cm">/* Here is empty line */</span>
</code></pre></div>
<ul>
<li>
<p>Every file (<em>header</em> or <em>source</em>) MUST include license (opening comment includes single asterisk as this MUST be ignored by doxygen)</p>
</li>
<li>
<p>Use the same license as already used by project/library</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm">* \file            template.h</span>
<span class="cm">* \brief           Template include file</span>
<span class="cm">*/</span>
<span class="cm">/*</span>
<span class="cm">*  Copyright Year (C) FirstName LASTNAME &lt;optional_email@example.com&gt;</span>
<span class="cm">*</span>
<span class="cm">*  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="cm">*  you may not use this file except in compliance with the License.</span>
<span class="cm">*  You may obtain a copy of the License at</span>
<span class="cm">*</span>
<span class="cm">*  http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="cm">*</span>
<span class="cm">*  Unless required by applicable law or agreed to in writing, software</span>
<span class="cm">*  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="cm">*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="cm">*  See the License for the specific language governing permissions and</span>
<span class="cm">*  limitations under the License.</span>
<span class="cm">* </span>
<span class="cm">* This file is part of the Universal Hal Framework.</span>
<span class="cm">*</span>
<span class="cm">* Author:          FirstName LASTNAME &lt;optional_email@example.com&gt;</span>
<span class="cm">*/</span>
</code></pre></div>
<ul>
<li>
<p>Header file MUST include guard <code>#ifndef</code></p>
</li>
<li>
<p>Header file MUST include <code>C++</code> check</p>
</li>
<li>
<p>Include external header files outside <code>C++</code> check</p>
</li>
<li>
<p>Include external header files with STL C files first followed by application custom files</p>
</li>
<li>
<p>Header file MUST include only every other header file in order to compile correctly, but not more (.c should include the rest if REQUIRED)</p>
</li>
<li>
<p>Header file MUST only expose module public variables/types/functions</p>
</li>
<li>
<p>Use <code>extern</code> for global module variables in header file, define them in source file later</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>/* file.h ... */
#ifndef ...
extern int32_t my_variable; /* This is global variable declaration in header */
#endif
/* file.c ... */
int32_t my_variable;        /* Actually defined in source */
</code></pre></div>
<ul>
<li>
<p>Never include <code>.c</code> files in another <code>.c</code> file</p>
</li>
<li>
<p><code>.c</code> file should first include corresponding <code>.h</code> file, later others, unless otherwise explicitly necessary</p>
</li>
<li>
<p>Do not include module private declarations in header file</p>
</li>
<li>
<p>Header file example (no license for sake of an example)</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cm">/* License comes here */</span>
<span class="cp">#ifndef TEMPLATE_HDR_H</span>
<span class="cp">#define TEMPLATE_HDR_H</span>
<span class="cm">/* Include headers */</span>
<span class="cp">#ifdef __cplusplus</span>
<span class="k">extern</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="cp">#endif </span><span class="cm">/* __cplusplus */</span>
<span class="cm">/* File content here */</span>
<span class="cp">#ifdef __cplusplus</span>
<span class="p">}</span>
<span class="cp">#endif </span><span class="cm">/* __cplusplus */</span>
<span class="cp">#endif </span><span class="cm">/* TEMPLATE_HDR_H */</span>
</code></pre></div>
<h2 id="clang-format-integration">Clang format integration</h2>
<p>Repository comes with always-up-to-date <code>.clang-format</code> file, an input configuration
for <code>clang-format</code> tool. It can be seamlessly integrated with most of latest techno
IDEs, including VSCode. Formatting then happens on the spot on each file save.
https://code.visualstudio.com/docs/cpp/cpp-ide#_code-formatting</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.a7c05c9e.min.js"></script>
      
        <script src="../javascript/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>